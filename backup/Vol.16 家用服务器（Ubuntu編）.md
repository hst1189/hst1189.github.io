# 1. å®‰è£…Ubuntuç³»ç»ŸðŸ”–
Linuxå‘è¡Œç‰ˆUbuntu24.04LTSã€€ã€€â€»LTSçš„æ„æ€æ˜¯"é•¿æœŸæ”¯æŒ"
https://ubuntu.com/

æŸ¥çœ‹ç¡¬ä»¶é…ç½®
```
CPUï¼šlscpu
å†…å­˜ï¼šfree -h
ç£ç›˜å®¹é‡ï¼šdf -h
OSç‰ˆæœ¬ï¼šcat /etc/issue
```

# 2. ç»‘å®šé™æ€IPðŸ”–
æ‰“å¼€è·¯ç”±å™¨è®¾ç½®--->å±€åŸŸç½‘è®¾ç½®-->DHCPé™æ€IPè®¾ç½®ï¼Œåˆ†é…ä¸€ä¸ªå›ºå®šIPï¼Œæ¯”å¦‚192.168.0.100ã€‚é…ç½®å®ŒæˆåŽè®°å¾—é‡å¯è·¯ç”±å™¨ã€‚
è¿™æ ·å³ä½¿é‡å¯æœåŠ¡å™¨æˆ–è€…è·¯ç”±å™¨ï¼ŒIPåœ°å€å°±ä¸ä¼šå˜æ¥å˜åŽ»äº†ã€‚ 



# 3. è®¾ç½®ç¬”è®°æœ¬åˆç›–ä¸ä¼‘çœ  ðŸ”–
é…ç½®æ–‡ä»¶
```
/etc/systemd/logind.conf
```
#HandleLidSwitch=suspend
â†“
HandleLidSwitch=ignore

é‡å¯æœåŠ¡
```
service systemd-logind restart
```

é…ç½®è¯´æ˜Ž
```
HandlePowerKey: æŒ‰ä¸‹ç”µæºé”®åŽçš„è¡Œä¸ºï¼Œé»˜è®¤power off
HandleSleepKey: æŒ‰ä¸‹æŒ‚èµ·é”®åŽçš„è¡Œä¸ºï¼Œé»˜è®¤suspend
HandleHibernateKey: æŒ‰ä¸‹ä¼‘çœ é”®åŽçš„è¡Œä¸ºï¼Œé»˜è®¤hibernate
HandleLidSwitch: åˆä¸Šç¬”è®°æœ¬ç›–åŽçš„è¡Œä¸ºï¼Œé»˜è®¤suspend

å¦‚æžœä¸»æœºæ’å…¥äº†ä¸€ä¸ªæ‰©å±•(docking station) æˆ–è€…è¿žæŽ¥äº†å¤šä¸ªæ˜¾ç¤ºå™¨ï¼Œ é‚£ä¹ˆ"åˆä¸Šç›–å­"å°†æ‰§è¡Œ HandleLidSwitchDocked= åŠ¨ä½œï¼›
å¦‚æžœä¸»æœºä½¿ç”¨å¤–éƒ¨ç”µæºï¼Œ é‚£ä¹ˆ"åˆä¸Šç›–å­"å°†ä¼˜å…ˆæ‰§è¡Œ HandleLidSwitchExternalPower= åŠ¨ä½œ, å¦åˆ™å°†æ‰§è¡Œ HandleLidSwitch= åŠ¨ä½œã€‚

å‚æ•°è¯´æ˜Ž:
ignore(æ— æ“ä½œ),
poweroff(å…³é—­ç³»ç»Ÿå¹¶åˆ‡æ–­ç”µæº),
reboot(é‡æ–°å¯åŠ¨),
halt(å…³é—­ç³»ç»Ÿä½†ä¸åˆ‡æ–­ç”µæº),
kexec(è°ƒç”¨å†…æ ¸"kexec"å‡½æ•°),
suspend(ä¼‘çœ åˆ°å†…å­˜),
hibernate(ä¼‘çœ åˆ°ç¡¬ç›˜),
hybrid-sleep(åŒæ—¶ä¼‘çœ åˆ°å†…å­˜ä¸Žç¡¬ç›˜),
suspend-then-hibernate(å…ˆä¼‘çœ åˆ°å†…å­˜è¶…æ—¶åŽå†ä¼‘çœ åˆ°ç¡¬ç›˜),
lock(é”å±)
```



# 4. å®‰è£…RustDeskè¿œç¨‹æ“ä½œðŸ”–
4-1. é€šè¿‡githubä¸‹è½½Ubuntuç‰ˆæœ¬ï¼šhttps://github.com/rustdesk/rustdesk/releases
https://github.com/rustdesk/rustdesk/releases/download/1.3.5/rustdesk-1.3.5-x86_64.deb       â€»ç›®å‰æœ€æ–°ç‰ˆæœ¬1.3.5

4-2. å°†å®‰è£…åŒ…`.deb` æ”¾åœ¨æ¡Œé¢ï¼Œå³é”®æ‰“å¼€å‘½ä»¤è¡Œã€æ‰§è¡Œä»¥ä¸‹ä¸¤ä¸ªå‘½ä»¤
```
sudo apt update
sudo apt install ./rustdesk-1.3.5-x86_64.deb
```

4-3. å®‰è£…å¥½rustdeskï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œä¸€äº›è®¾ç½®ï¼ŒUbuntué»˜è®¤çš„æ˜¾ç¤ºå™¨ç¨‹åºæ˜¯`wayland`
åœ¨æ¯å±çŠ¶æ€ä¸‹è¿œç¨‹è½¯ä»¶æ— æ³•å”¤é†’å±å¹•ã€ä¸ºäº†èƒ½å”¤é†’å±å¹•éœ€è¦æ”¹æˆ`xorg`
```
sudo vi /etc/gdm3/custom.conf
```
ä¿®æ”¹ä¸‹é¢è¿™ä¸€è¡Œã€å°†å‰é¢çš„æ³¨é‡ŠåŽ»æŽ‰ï¼Œç„¶åŽç‚¹å‡»`ESC`ï¼Œç„¶åŽè¾“å…¥ `:wq!` ä¿å­˜æ–‡ä»¶
```
# WaylandEnable=false     
â¬‡
WaylandEnable=false
```

4-4. ç„¶åŽé‡å¯æ¡Œé¢
```
sudo systemctl restart gdm3
```

4-5. è®¾ç½®Rustdesk
æ‰“å¼€Rustdesk è®¾ç½®ä¸¤ä¸ªåœ°æ–¹
è®¾ç½®->å®‰å…¨->å…è®¸IPç›´æŽ¥è®¿é—® **é»˜è®¤ç«¯å£ 21118**ï¼Œè¿™æ ·åœ¨å®¶é‡Œå°±å¯ä»¥ä¸ä½¿ç”¨ä¸­ç»§æœåŠ¡å™¨ï¼Œè€Œæ˜¯IPç›´è¿žï¼Œæé«˜é€Ÿåº¦
è®¾ç½®->å®‰å…¨->å¯†ç  ä½¿ç”¨å›ºå®šå¯†ç ï¼Œè¿™æ ·ä¸»æŽ§æ–¹å°±å¯ä»¥ä½¿ç”¨å›ºå®šå¯†ç æŽ§åˆ¶




# 5. OpenSSHðŸ”–
æ·»åŠ sshçš„è¿œç¨‹è®¿é—®åŠŸèƒ½ã€è¿™æ ·å°±å¯ä»¥é€šè¿‡sshçš„æ–¹å¼é“¾æŽ¥ã€‚
```
sudo apt install openssh-server
```

ã€é“¾æŽ¥æ–¹å¼ã€‘è¾“å…¥sshå‘½ä»¤ã€ç„¶åŽè¾“å…¥å¯†ç 
```
ssh ç”¨æˆ·å@192.168.0.100    #è·¯ç”±è®¾ç½®é‡Œæ‰€ç»‘å®šçš„é™æ€IP
```



# 6. SMBæ–‡ä»¶å…±äº«ðŸ”–
å¯ä»¥åœ¨UbuntuæœåŠ¡å™¨ä¸Šå¼€å¯SMBæ–‡ä»¶å…±äº«ï¼Œæž„å»ºæ–‡ä»¶å…±äº«æœåŠ¡ï¼Œ
è¿™æ ·å¯ä»¥å¾ˆæ–¹ä¾¿çš„åœ¨æ‰‹æœºç”µè„‘ä¸ŠæŸ¥çœ‹æœåŠ¡å™¨ä¸Šæ–‡ä»¶ï¼ˆåŒ…æ‹¬ç”µå½±ï¼Œç”µè§†å‰§ç­‰ï¼‰

6-1. å®‰è£…
```
sudo apt install samba
```

6-2 åˆ›å»ºå…±äº«æ–‡ä»¶å¤¹
```
mkdir /home/ç”¨æˆ·å/share
chmod 755 /home/ç”¨æˆ·å/share
```

6-3 sambaæ·»åŠ ç”¨æˆ·
å¯ä»¥æ·»åŠ SMBä¸“ç”¨æˆ·ï¼Œä¹Ÿå¯ä»¥ç³»ç»Ÿé»˜ç”¨æˆ·ï¼Œä»¥ä¸‹ç³»ç»Ÿé»˜ç”¨æˆ·ä¸ºä¾‹
```
sudo pdbedit -a -u ubuntu   #ç”¨æˆ·å=ubuntu
sudo pdbedit -L             #ç¡®è®¤ç”¨æˆ·
```

6-4 ä¿®æ”¹é…ç½®æ–‡ä»¶ã€æœ€ä¸‹é¢ç²˜è´´è¿™äº›å†…å®¹
```
sudo vi /etc/samba/smb.conf
```

```
[share]  #å¯¹å¤–æ˜¾ç¤ºçš„å…±äº«å
path = /home/ç”¨æˆ·å/share  #æŒ‡å®šå…±äº«æ–‡ä»¶å¤¹
available = yes
browseable = yes
public = yes
writable = yes
create mask = 0755
security = share
force user = ç”¨æˆ·å #æ›´æ”¹ç”¨æˆ·å
force group =ç”¨æˆ·å #æ›´æ”¹ç”¨æˆ·å
```
ç‚¹å‡»`ESC`ï¼Œç„¶åŽè¾“å…¥ `:wq!` ä¿å­˜æ–‡ä»¶


6-5.  é‡å¯smbæœåŠ¡
```
sudo service smbd restart
```

6-6 Windowé“¾æŽ¥æ–¹å¼ï¼š
åœ°å€æ è¾“å…¥IPï¼Œç„¶åŽè¾“å…¥æœåŠ¡å™¨çš„ç”¨æˆ·åå’Œå¯†ç 
```
\\192.168.0.100\share    #è·¯ç”±è®¾ç½®é‡Œæ‰€ç»‘å®šçš„é™æ€IP
```




# 7. å®‰è£…DockerðŸ”–
å®‰è£…dockeræœ¬ä½“ï¼Œéœ€è¦æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ã€‚
```
sudo curl -fsSL https://get.docker.com | sh    #å®‰è£…Docker
sudo systemctl enable --now docker        #å¯åŠ¨DockeræœåŠ¡
sudo docker -v                            #æŸ¥çœ‹dockerç‰ˆæœ¬ï¼Œæ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ
sudo docker ps -a                       #æŸ¥çœ‹dockerä¸­æ‰€æœ‰å®¹å™¨
```


> å¼•ç”¨ï¼šhttps://www.bilibili.com/video/BV1Gb421a7BW/
> å¼•ç”¨ï¼šhttps://gitee.com/tech-shrimp/me/blob/master/doc/240502.md

